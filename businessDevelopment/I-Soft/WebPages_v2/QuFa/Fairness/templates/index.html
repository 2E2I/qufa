<!DOCTYPE html>
<html lang="kr">

<head>
    <title>QuFa</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />

    <!-- <link rel="stylesheet" href="vendor/fa-free-5.15.1/css/all.min.css"> -->
    <!-- <script src="vendor/jquery/jquery-3.5.1.min.js"></script> -->
    <!-- <link rel="stylesheet" href="vendor/bootstrap-4.5.3/css/bootstrap.min.css"> -->
    <!-- <script src="vendor/bootstrap-4.5.3/js/bootstrap.min.js"></script> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/floatthead/2.2.1/jquery.floatThead.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.3.3/webcomponents-lite.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    
    {% load static %}
    <script type="text/javascript" src="{% static 'js/jquery.ajax-cross-origin.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/qufa.css' %}">
</head>

<body>
<!-- Top Anchor   -->
<a class="anchor_item" id="top"></a>
<div style='height:100px;'></div>

<div class="clearfix" id="page">
    <!-- column -->
    <div class="position_content" id="page_position_content">
        <!-- header -->
        <div class="clearfix">
            <!-- group -->
            <!-- Header Bar -->
            <div class="browser_width header-bar">
                <!-- Navigation Menu -->
                <div class="nav-menu">
                    <!-- Page Name -->
                    <div class="page_top"><a id='idAStep0' href="index#top"><h3>QuFa</h3></a>
                </div>
                <!-- In=page Anchor Links -->
                <div class= "nav-links">
                    <div class="nav-link"><a href="index#about">About</a></div>
                    <div class="nav-link"><a id='idAStep1' href="index#loaddataset">Load Dataset</a></div>
                    <div class="nav-link"><a id='idAStep2' href="index#facetsoverview">Overview</a></div>
                    <div class="nav-link"><a id='idAStep3' href="index#predicting">Predicting</a></div>
                    <div class="nav-link"><a id='idAStep4' href="index#result">Result</a></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div><h1 class="font-weight-bold text-center text-primary">Data Fairness Improvement</h1></div>

<div class="separator" id="about"><!-- separating line --></div>
    
<div class="title"><h1><i class="fas fa-dice-one"></i> About</h1></div>

    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> 목표</h2>
        </div>
        <div class="desc-copy">
            <p><i class="fas fa-angle-right"></i> 빅데이터 공정성 확보를 위한 데이터셋 검증 및 보정 기술 개발</p>
        </div>
    </div>

<div class="separator" id="loaddataset"><!-- separating line --></div>

<div class="title"><h1><i class="fas fa-dice-two"></i> Dataset Overview</h1></div>

    <div class="clearfix">
        <div>
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> Load Dataset</h2>
        </div>
        <div class="container" style='width:100%;'>
            <div class='row' style='height:50px;'>
                <div class='col-4'></div>
                <div class='col-4'>
                    <h4 class="font-weight-bold text-center text-primary">Load Dataset</h4>
                </div>
                <div class='col-4'></div>
            </div>
            <div class='row'>
                <div class='col-10'>
                    <span class='btn btn-sm btn-success fileinput-button loading'>
                    <span id='idSpanXls0'><i class='fa fa-table'></i> Set Train File</span>
                    <input type='file' id="fileupload" accept="text/csv,.csv" />
                    </span>&nbsp;
                    <input type='text' id="idFileName" style='width:100%;' readonly />
                </div>
                <div class='col-2 text-right'>
                    <button id='idBtnUpload' class='btn btn-success loading' style='width:100%;height:100%;'><i class="fas fa-upload"></i> Upload</button>
                </div>
            </div>

            <div class='row' style='height:90px;padding-top:40px;'>
                <div class='col-4'></div>
                <div class='col-4'>
                    <h4 class="font-weight-bold text-center text-primary">Dataset List</h4>
                </div>
                <div class='col-4'></div>
            </div>
            <div class='row'>
                <div class='col'>
                    <ul id='idUlRcvFiles' class='loading'></ul>
                    <p><i class="fas fa-angle-right"></i> Train File List: </p>
                        <select id='idSelFileList' size='5' style='width:100%;height:200px;'>
                        </select>
                </div>
            </div>
            <div class='row' style='height:90px;padding-top:40px;'>
                <div class='col text-center'>
                    <button id='idBtnLoading' class='btn btn-primary loading' style='width:100%;height:100%;'><i class="fas fa-upload"></i> Load Dataset</button>
                </div>
            </div>

            <div class='row' style='height:90px;padding-top:40px;'>
                <div class='col-4'></div>
                <div class='col-4'>
                    <h4 class="font-weight-bold text-center text-primary">Data Sample</h4>
                </div>
                <div class='col-4'></div>
            </div>
            <div class='row'>
                <div class='col'style='height:300px;'>
                    <div class='border-all' style='height:280px;overflow-y:auto;'>
                        <table id='idTblRawData0' class='table' style='width:100%' cellspacing="0">
                            <thead> </thead>
                            <tbody> </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class='row'>
                <div class='col'style='height:300px;'>
                    <div class='border-all' style='height:280px;overflow-y:auto;'>
                        <table id='idTblRawData1' class='table' style='width:100%' cellspacing="0">
                            <thead> </thead>
                            <tbody> </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="separator" id="facetsoverview"><!-- separating line --></div>
        
    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> Overview</h2>
        </div>
        <div class="desc-copy">
        </div>
    </div>
    <div class="container" style='width:100%;'>
        <div class='row'>
            <div class='col'>
                <h4 class="font-weight-bold text-center text-primary">Dataset Overview</h4>
            </div>
        </div>
        <div class='row'>
            <div class='col'>
                <h5 class="font-weight-bold text-left text-secondary">Numeric Features</h5>
            </div>
        </div>
        <div class='row'>
            <div class='col'>
                <div class='table-responsive'>
                    <table id='idTblNumeric' class='table sticky-header' style='width:100%' cellspacing="0">
                        <thead>
                            <tr>
                                <th class="text-center" style='width:5rem'>count</th>
                                <th class="text-center" style='width:5rem'>mean</th>
                                <th class="text-center" style='width:5rem'>std dev</th>
                                <th class="text-center" style='width:5rem'>zeros</th>
                                <th class="text-center" style='width:5rem'>min</th>
                                <th class="text-center" style='width:5rem'>median</th>
                                <th class="text-center" style='width:5rem'>max</th>
                                <th class="text-center">Chart</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td colspan=8 style='height:100px;'></td> </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class='row'>
            <div class='col'>
                <h5 class="font-weight-bold text-left text-secondary">Categorical Features</h5>
            </div>
        </div>
        <div class='row'>
            <div class='col'>
                <div class='table-responsive'>
                    <table id='idTblCategor' class='table sticky-header' style='width:100%' cellspacing="0">
                        <thead>
                            <tr>
                                <th class="text-center" style='width:7rem'>count</th>
                                <th class="text-center" style='width:7rem'>unique</th>
                                <th class="text-center" style='width:7rem'>top</th>
                                <th class="text-center" style='width:7rem'>freq top</th>
                                <th class="text-center" style='width:7rem'>avg str len</th>
                                <th class="text-center">Chart</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td colspan=8 style='height:100px;'></td> </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

<div class="separator" id="predicting"><!-- separating line --></div>
    
<div class="title"><h1><i class="fas fa-dice-three"></i> Predicting</h1></div>

    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> Set Parameters</h2>
        </div>
        <div class="desc-copy">
        </div>
    </div>
    <div class="container" style='width:100%;'>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Set Criteria</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div id='idDivStep0' class='row'>
            <div class='col'>
                <h5 class="font-weight-bold text-left text-secondary">
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Criteria Column:</div>
                        <div class='col-3'>
                            <select  id='idSelCol4Criteria' class='running step0' style='width:100%;height:28px;'></select>
                        </div>
                        <div class='col-2' style='text-align:right;'>Criteria Label:</div>
                        <div class='col-3'>
                            <select  id='idSelCriterColLbl' class='running step0' style='width:100%;height:28px;'></select>
                        </div>
                        <div class='col-1'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Hash Bucket Column:</div>
                        <div class='col-3'>
                            <select  id='idSelCol4HashBukt' class='running step0' style='width:100%;height:28px;'></select>
                        </div>
                        <div class='col-2' style='text-align:right;'>
                            <span style='padding-left:15px;'></span> Bucket Size:
                        </div>
                        <div class='col-3'>
                            <input type='number' id='idTxtHashBkSize' class='running step0' style='width:60px;height:28px;' value='1000' />
                        </div>
                        <div class='col-1'></div>
                    </div>
                </h5>
            </div>
        </div>
        <div class='row' style='height:70px;padding-top:20px;'>
            <div class='col text-center'>
                <button id='idBtnGoStep1' class='btn btn-warning running step0' style='width:200px;height:50px;'><i class="fa fa-arrow-right"></i> Next</button>
            </div>
        </div>
        <div class='row' style='height:90px;padding-top:40px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Categorical Feature</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div id='idDivStep1' class='row'>
            <div id='idDivItem1' class='col'></div>
        </div>
        <div class='row' style='height:70px;padding-top:20px;'>
            <div class='col text-center'>
                <button id='idBtnGoStep2' class='btn btn-warning running step1' style='width:200px;height:50px;'><i class="fa fa-arrow-right"></i> Next</button>
            </div>
        </div>
        <div class='row' style='height:90px;padding-top:40px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Numeric Feature</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div id='idDivStep2' class='row'>
            <div id='idDivItem2' class='col'></div>
        </div>
        <div class='row' style='height:70px;padding-top:20px;'>
            <div class='col text-center'>
                <button id='idBtnGoStep3' class='btn btn-warning running step2' style='width:200px;height:50px;'><i class="fa fa-arrow-right"></i> Next</button>
            </div>
        </div>
        <div class='row' style='height:90px;padding-top:40px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Set Parameter</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div id='idDivStep3' class='row'>
            <div class='col'>
                <h5 class="font-weight-bold text-left text-secondary">
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Hidden Layer Unit 01:</div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam00' class='running step3' style='width:60px;height:28px;' value='128' />
                        </div>
                        <div class='col-2' style='text-align:right;'>Hidden Layer Unit 02</div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam01' class='running step3' style='width:60px;height:28px;' value='64' />
                        </div>
                        <div class='col-1'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Learning Rate:</div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam02' class='running step3' style='width:60px;height:28px;' value='0.1' />
                        </div>
                        <div class='col-6'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>L1 Regularization STR:</div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam03' class='running step3' style='width:60px;height:28px;' value='0.001' />
                        </div>
                        <div class='col-2' style='text-align:right;'>
                            <span style='padding-left:15px;'></span>L2 Regularization STR:
                        </div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam04' class='running step3' style='width:60px;height:28px;' value='0.001' />
                        </div>
                        <div class='col-1'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Epochs:</div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam05' class='running step3' style='width:60px;height:28px;' value='10' />
                        </div>
                        <div class='col-2' style='text-align:right;'>
                            <span style='padding-left:15px;'></span> Batch Size:
                        </div>
                        <div class='col-3'>
                            <input type='number' id='idTxtParam06' class='running step3' style='width:60px;height:28px;' value='500' />
                        </div>
                        <div class='col-1'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Category Column:</div>
                        <div class='col-3'>
                            <select  id='idSelParam07' class='running step3' style='width:100%;height:28px;'></select>
                        </div>
                        <div class='col-2'></div>
                        <div class='col-3'>
                            <ul id='idUlParam08' class='running step3' hidden></ul>
                        </div>
                        <div class='col-1'></div>
                    </div>
                    <div class='row'>
                        <div class='col-1'><i class="fas fa-angle-double-right"></i></div>
                        <div class='col-2' style='text-align:right;'>Classfication Labels:</div>
                        <div class='col-3'>
                            <input type='text' id='idTxtParam09' class='running step3' style='width:100%;height:28px;' value='Over $1,500' />
                        </div>
                        <div class='col-2' style='text-align:center;'>
                            <span style='padding-left:15px;'></span> /
                        </div>
                        <div class='col-3'>
                            <input type='text' id='idTxtParam0A' class='running step3' style='width:100%;height:28px;' value='Less than $1,500' />
                        </div>
                        <div class='col-1'></div>
                    </div>
                </h5>
            </div>
        </div>
        <div class='row' style='height:90px;padding-top:40px;'>
            <div class='col text-center'>
                <button id='idBtnRun' class='btn btn-primary running step3' style='width:200px;height:50px;'><i class="fab fa-deezer"></i> Run</button>
            </div>
        </div>
    </div>

<div class="separator" id="result"><!-- separating line --></div>
    
<div class="title"><h1><i class="fas fa-dice-four"></i> Result</h1></div>
    
    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> Before</h2>
        </div>
        <div class="desc-copy">
        </div>
    </div>
    <div class="container" style='width:100%;'>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Result</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div class='row'>
            <div class='col-6'>
                <div id='idDivMetricA0' class='text-center' style='width:100%;height:100px;'></div>
            </div>
            <div class='col-6'>
                <div id='idDivMetricA1' class='text-center' style='width:100%;height:100px;'></div>
            </div>
        </div>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Graph</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div class='row'>
            <div class='col-6'>
                <div id='idDivGraphA0' class='text-center' style='width:100%;height:400px;'></div>
            </div>
            <div class='col-6'>
                <div id='idDivGraphA1' class='text-center' style='width:100%;height:400px;'></div>
            </div>
        </div>
    </div>
    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> After</h2>
        </div>
        <div class="desc-copy">
        </div>
    </div>
    <div class="container" style='width:100%;'>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Result</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div class='row'>
            <div class='col-6'>
                <div id='idDivMetricB0' class='text-center' style='width:100%;height:100px;'></div>
            </div>
            <div class='col-6'>
                <div id='idDivMetricB1' class='text-center' style='width:100%;height:100px;'></div>
            </div>
        </div>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Graph</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div class='row'>
            <div class='col-6'>
                <div id='idDivGraphB0' class='text-center' style='width:100%;height:400px;'></div>
            </div>
            <div class='col-6'>
                <div id='idDivGraphB1' class='text-center' style='width:100%;height:400px;'></div>
            </div>
        </div>
    </div>
    <div class="clearfix">
        <div class="subhead">
            <h2><span style='padding-left:30px;'></span><i class="fas fa-angle-right"></i> Fairness</h2>
        </div>
        <div class="desc-copy">
        </div>
    </div>
    <div class="container" style='width:100%;'>
        <div class='row' style='height:50px;'>
            <div class='col-4'></div>
            <div class='col-4'>
                <h4 class="font-weight-bold text-center text-primary">Performance</h4>
            </div>
            <div class='col-4'></div>
        </div>
        <div class='row'>
            <div class='col'>
                <div id='idDivPerform' class='text-center' style='width:100%;height:200px;'></div>
            </div>
        </div>
        <div class='row'>
            <div class='col'>
                <p>
                    \[ \text{보정 성능} = \frac{\mathrm 1}{\mathrm n} \displaystyle\sum_{i=1}^{n} \bigg(\frac{|IFV_n - OFV_n| - |IFV_n - MFV_n|}{|IFV_n - OFV_n|}\bigg) \times 100 \]
                </p>
                <p>
                    $$
                    \begin{aligned}
                    \text{i : 공정성 보정 지표}\hspace{3cm}  \\
                    \text{n : 적용한 공정성 보정 지표 수} \hspace{1cm} \\
                    \text{IFV(Ideal Fair Value) : 공정성 지표별 기준 값} \hspace{2cm} \\
                    \text{OFV(Original Fair Value) : 보정 전 공정성 지표 값} \hspace{1.9cm} \\
                    \text{MFV(Mitigated Fair Value) : 보정 후 공정성 지표 값} \hspace{1.9cm} \\
                    \end{aligned}
                    $$
                </p>
            </div>
        </div>
    </div>
    <div class='row' style='height:90px;padding-top:40px;'>
        <div class='col'></div>
    </div>

    {% load static %}
    <script src="{% static 'js/qufa.js' %}"></script>
    <script>
        const csrfTtoken = '{{ csrf_token }}';
        const sFilePath = "{% static 'js/worker.js' %}";
    </script>
</body>

</html>